<!DOCTYPE html>
<html lang="en">
<head>
    <title>GWU Student Hub | Your Listings</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="style/main-style.css" rel="stylesheet">
    <link href="style/market-style.css" rel="stylesheet">
</head>
<body>
    <div class="header">
        <a href="home.html">
            <img src="images/logos/gw_monogram_2c.png" class="logo"><h1>Student Hub</h1>
        </a>
    </div>
    <div id="wrapper">
        <div id="navbar">
            <a href="home.html" class="nav-button main-nav">Home</a>
            <a href="market.html" class="nav-button main-nav">Marketplace</a>
            <a href="blog.html" class="nav-button main-nav">Blog</a>
        </div>
        <div class="dropdown" style="float:right;" id="account">
            <button class="dropbtn nav-button">Account</button>
            <div class="dropdown-content">
                <a href="messages.html">Messages</a>
                <a href="index.html">Log out</a>
            </div>
        </div>
    </div>

    <div id="myBtnContainer">
        <button class="btn active" onclick="filterSelection('all')">Show all</button>
        <button class="btn" onclick="filterSelection('items')">Items</button>
        <button class="btn" onclick="filterSelection('services')">Services</button>
        <button class="btn" onclick="filterSelection('moving')">Moving</button>
        <button class="btn" style="float:right;" onclick="document.location='listing-upload.html'">Upload a listing</button>
    </div>

    <div id="listings-container" class="container"></div>
    <div id="modal-container"></div>

    <script>
      // Mock data for demonstration purposes
      const mockListings = [
          { id: '1', category: 'items', name: 'Textbook', price: '100', location: 'Washington, D.C.', description: 'College Algebra textbook in great condition.', seller: 'Don Kim' },
          { id: '4', category: 'services', name: 'Math Tutoring', price: '30', location: 'Washington, D.C.', description: 'Experienced tutor offering math lessons.', seller: 'Jane Smith' },
          { id: '6', category: 'moving', name: 'Moving Services', price: 'Free', location: 'Arlington, VA', description: 'Available on weekends to help with moving.', seller: 'Mike Johnson' }
      ];
  
      function processListings(listings) {
          const listingsContainer = document.getElementById("listings-container");
          listings.forEach(listing => {
              const listingDiv = document.createElement("div");
              listingDiv.className = "filterDiv " + listing.category + " show";
              listingDiv.innerHTML = `
                  <div class="image-button" style="background-image: url('images/market/${listing.id}.jpg');"></div>
                  <div class="market-item">
                      <p class="market-price">${listing.price}</p>
                      <p>${listing.name}</p>
                      <p class="market-location"><img src="images/location.png" height="15" alt="location"> ${listing.location}</p>
                  </div>
              `;
              listingsContainer.appendChild(listingDiv);
          });
      }
  
      function filterSelection(category) {
          const listings = document.getElementsByClassName('filterDiv');
          for (let i = 0; i < listings.length; i++) {
              listings[i].style.display = "none"; // Hide all by default
              if (category === 'all' || listings[i].classList.contains(category)) {
                  listings[i].style.display = "block"; // Show based on category
              }
          }
          // Set the clicked button to active
          const btns = document.getElementsByClassName('btn');
          for (let i = 0; i < btns.length; i++) {
              btns[i].className = btns[i].className.replace(" active", "");
          }
          event.target.className += " active";
      }
  
      // Initialize the listings display
      processListings(mockListings);
  </script>
  